---
status: open
priority: high
created: 2026-02-02
---
# TKT-004: Consolidate 47 create/update form pairs into generic EntityForm pattern

## Problem
There are 47 component pairs following the pattern `[entity]-create.tsx` + `[entity]-update.tsx`:
- Pay elements (8 types)
- Employee setup (8 types)
- Banking (3)
- HMRC (2)
- Various others

Each contains:
- FormSheet wrapper
- useRef for form submission
- trpc mutations with onSuccess/onError
- Toast notifications
- Structured form with validation schema

## Solution
Create a generic `<EntityForm>` wrapper that handles:
- Create vs Update mode detection
- Common mutation patterns
- Toast notifications
- Form submission lifecycle

## Impact
~94 files (47 pairs) reduced to configuration + schema definitions.
